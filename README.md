# E-Commerce Platform (이벤트 기반)

입점 중개형 전자상거래 플랫폼

## 프로젝트 개요

### 주제
**입점 중개형 전자상거래 플랫폼**

여러 판매자가 입점하여 상품을 판매하고, 고객은 다양한 상품을 구매할 수 있는 B2B2C 형태의 전자상거래 플랫폼입니다.

### 주요 기능
- **인증/인가**: JWT + Naver OAuth2
- **3-Tier 사용자 관리**: USER, SELLER, ADMIN
- **상품 관리**: 카테고리, 상품 CRUD, 재고 관리, 네이버 쇼핑 API 연동
- **주문 관리**: 장바구니, 주문, 결제, 배송 추적
- **리뷰 시스템**: 상품 리뷰 작성/수정/삭제
- **재입고 관리**: 재입고 투표, 재입고 알림 (Redis + Event)
- **쿠폰 시스템**: 스마트 쿠폰 (웰컴/생일/VIP 자동 발급)
- **알림 시스템**: 주문/재입고/쿠폰 알림
- **판매자 대시보드**: 매출 통계, 베스트셀러, 재고 부족 상품
- **자동 발주 권장**: AI 기반 재고 예측 (스케줄러)

---

## 테스트 계정

### 일반 사용자 (ROLE_USER)
- Email: `user@example.com`
- Password: `a123456@`

### 판매자 (ROLE_SELLER)
- Email: `seller@example.com`
- Password: `a123456@`

### 관리자 (ROLE_ADMIN)
- Email: `admin@example.com`
- Password: `admin1234`

<br>

### 역할 기반 접근 제어

| 역할 | 권한 |
|------|------|
| **ROLE_USER** | 주문, 리뷰, 재입고 투표/알림, 쿠폰 사용 |
| **ROLE_SELLER** | USER 권한 + 상품 관리, 재고 관리, 판매 대시보드 |
| **ROLE_ADMIN** | SELLER 권한 + 회원 관리, 카테고리 관리, 쿠폰 관리 |

---

### 1. 재입고 관리 시스템
- **재입고 투표**: 사용자가 품절 상품에 투표
- **Redis 카운팅**: 실시간 투표 수 집계
- **자동 알림**: 재입고 시 투표/알림 신청 사용자에게 알림 발송
- **Event-Driven**: Spring Events로 비동기 처리

### 2. 스마트 쿠폰 시스템
- **웰컴 쿠폰**: 회원가입 시 자동 발급
- **생일 쿠폰**: 매일 자동 스케줄러로 생일자에게 발급
- **VIP 쿠폰**: 누적 구매금액 기준 자동 발급
- **쿠폰 검증**: 최소 주문금액, 만료일, 사용 여부 체크

### 3. 판매자 대시보드
- **오늘의 통계**: 주문 수, 매출, 평균 평점
- **베스트셀러**: 판매량 Top 5 (Redis 캐싱)
- **재고 부족 상품**: 임계값 이하 상품 알림
- **최근 30일 매출 차트**: 일별 매출 그래프

### 4. 자동 발주 권장 (스케줄러)
- **매일 00:00 실행**: 재고 부족 상품 감지
- **평균 판매량 기반**: 지난 7일 평균 × 안전 계수
- **발주 권장 수량 계산**: 목표 재고 - 현재 재고

---

## 보안

### 구현된 보안 기능
- JWT 토큰 인증
- 비밀번호 BCrypt 해싱
- CORS 설정
- SQL Injection 방지 (JPA PreparedStatement)
- XSS 방지 (입력 검증)
- 환경변수로 민감 정보 관리
- HTTPS 권장 (프로덕션)

---

## 성능 최적화

- **Redis 캐싱**: 베스트셀러, 대시보드 통계
- **DB 인덱스**: 검색/정렬 컬럼에 인덱스 설정
- **N+1 방지**: FetchJoin 사용
- **Connection Pool**: HikariCP
- **페이지네이션**: 모든 목록 API
- **비동기 처리**: 알림 발송 (Spring Events)

---

## 향후 개선 사항

### 성능
- Redis Cluster 구성
- Database Replication (Master-Slave)
- Elasticsearch 검색 엔진

### 기능
- firebase를 활용한 상품 추천 (AI/ML)
- 결제 연동 (PG사)
- 배송 추적 API

### 인프라
- Kubernetes 배포
- 로그 수집 (ELK Stack)
